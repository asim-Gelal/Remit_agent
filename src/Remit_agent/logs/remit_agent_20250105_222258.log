[2025-01-05 22:22:58,515] INFO [Remit_agent.database.get_logger:77] Logger initialized: Remit_agent.database
[2025-01-05 22:22:58,573] INFO [Remit_agent.tools.tool_monitoring.get_logger:77] Logger initialized: Remit_agent.tools.tool_monitoring
[2025-01-05 22:22:58,574] INFO [Remit_agent.tools.tools.get_logger:77] Logger initialized: Remit_agent.tools.tools
[2025-01-05 22:22:59,164] INFO [Remit_agent.core.sql_agent.get_logger:77] Logger initialized: Remit_agent.core.sql_agent
[2025-01-05 22:22:59,166] INFO [__main__.get_logger:77] Logger initialized: __main__
[2025-01-05 22:23:06,765] INFO [__main__.main:249] Processing question: What is the current exchange rate between nepal and UAE
[2025-01-05 22:23:06,775] INFO [Remit_agent.core.sql_agent.run:222] Starting workflow with question: What is the current exchange rate between nepal and UAE
[2025-01-05 22:23:06,927] INFO [Remit_agent.database.get_database_schema:53] Retrieved database schema
[2025-01-05 22:23:06,927] INFO [Remit_agent.database.get_database_schema:54] Schema:
Table: currency
- currency_code: VARCHAR(3)
- currency_name: VARCHAR(50)

Table: exchange_rates
- exchange_rate_id: INTEGER
- rate_date: DATE
- base_currency_code: VARCHAR(3)
- target_currency_code: VARCHAR(3)
- exchange_rate: NUMERIC(20, 10)
- unit: INTEGER

[2025-01-05 22:23:08,201] INFO [Remit_agent.tools.tools.check_relevance:73] Relevance check completed with result: relevant
[2025-01-05 22:23:08,201] INFO [Remit_agent.core.sql_agent._check_relevance:41] Relevance check result: relevant
[2025-01-05 22:23:08,212] INFO [Remit_agent.database.get_database_schema:53] Retrieved database schema
[2025-01-05 22:23:08,212] INFO [Remit_agent.database.get_database_schema:54] Schema:
Table: currency
- currency_code: VARCHAR(3)
- currency_name: VARCHAR(50)

Table: exchange_rates
- exchange_rate_id: INTEGER
- rate_date: DATE
- base_currency_code: VARCHAR(3)
- target_currency_code: VARCHAR(3)
- exchange_rate: NUMERIC(20, 10)
- unit: INTEGER

[2025-01-05 22:23:09,477] INFO [Remit_agent.tools.tools.convert_to_sql:88] Generated SQL query: SELECT er.*
FROM exchange_rates er
WHERE er.base_currency_code = 'NPR'
AND er.target_currency_code = 'AED'
AND er.rate_date = (
    SELECT MAX(rate_date)
    FROM exchange_rates
    WHERE base_currency_code = 'NPR'
    AND target_currency_code = 'AED'
);
[2025-01-05 22:23:09,478] INFO [Remit_agent.core.sql_agent._convert_to_sql:52] Successfully generated SQL query: SELECT er.*
FROM exchange_rates er
WHERE er.base_currency_code = 'NPR'
AND er.target_currency_code = 'AED'
AND er.rate_date = (
    SELECT MAX(rate_date)
    FROM exchange_rates
    WHERE base_currency_code = 'NPR'
    AND target_currency_code = 'AED'
);
[2025-01-05 22:23:09,478] INFO [Remit_agent.core.sql_agent._convert_to_sql:58] State updated - SQL Query: SELECT er.*
FROM exchange_rates er
WHERE er.base_currency_code = 'NPR'
AND er.target_currency_code = 'AED'
AND er.rate_date = (
    SELECT MAX(rate_date)
    FROM exchange_rates
    WHERE base_currency_code = 'NPR'
    AND target_currency_code = 'AED'
);, Error: False
[2025-01-05 22:23:09,481] INFO [Remit_agent.tools.tools.execute_sql_query:102] Executing query: SELECT er.*
FROM exchange_rates er
WHERE er.base_currency_code = 'NPR'
AND er.target_currency_code = 'AED'
AND er.rate_date = (
    SELECT MAX(rate_date)
    FROM exchange_rates
    WHERE base_currency_code = 'NPR'
    AND target_currency_code = 'AED'
);
[2025-01-05 22:23:09,484] INFO [Remit_agent.tools.tools.execute_sql_query:108] Query executed successfully. Fetched 1 rows.
[2025-01-05 22:23:09,484] INFO [Remit_agent.core.sql_agent._execute_sql:77] Result from execute_sql_query: {'success': True, 'error': None, 'rows': [{'exchange_rate_id': 18591, 'rate_date': '2024-12-23', 'base_currency_code': 'NPR', 'target_currency_code': 'AED', 'exchange_rate': 0.0269396552, 'unit': 1}], 'columns': ['exchange_rate_id', 'rate_date', 'base_currency_code', 'target_currency_code', 'exchange_rate', 'unit']}
[2025-01-05 22:23:09,484] INFO [Remit_agent.core.sql_agent._execute_sql:90] Query executed successfully. Processed 1 rows.
[2025-01-05 22:23:09,488] ERROR [Remit_agent.core.sql_agent._generate_human_readable:113] Error generating readable response: BaseTool.invoke() missing 1 required positional argument: 'input'
[2025-01-05 22:23:09,490] INFO [Remit_agent.core.sql_agent.run:227] Workflow completed successfully
[2025-01-05 22:23:09,490] ERROR [__main__.main:270] Error processing question: `st.session_state.user_input` cannot be modified after the widget with key `user_input` is instantiated.
[2025-01-05 22:30:06,596] INFO [__main__.main:249] Processing question: What is the current exchange rate between nepal and UAE
[2025-01-05 22:30:06,597] INFO [Remit_agent.core.sql_agent.run:222] Starting workflow with question: What is the current exchange rate between nepal and UAE
[2025-01-05 22:30:06,611] INFO [Remit_agent.database.get_database_schema:53] Retrieved database schema
[2025-01-05 22:30:06,612] INFO [Remit_agent.database.get_database_schema:54] Schema:
Table: currency
- currency_code: VARCHAR(3)
- currency_name: VARCHAR(50)

Table: exchange_rates
- exchange_rate_id: INTEGER
- rate_date: DATE
- base_currency_code: VARCHAR(3)
- target_currency_code: VARCHAR(3)
- exchange_rate: NUMERIC(20, 10)
- unit: INTEGER

[2025-01-05 22:30:07,747] INFO [Remit_agent.tools.tools.check_relevance:73] Relevance check completed with result: relevant
[2025-01-05 22:30:07,747] INFO [Remit_agent.core.sql_agent._check_relevance:41] Relevance check result: relevant
[2025-01-05 22:30:07,761] INFO [Remit_agent.database.get_database_schema:53] Retrieved database schema
[2025-01-05 22:30:07,762] INFO [Remit_agent.database.get_database_schema:54] Schema:
Table: currency
- currency_code: VARCHAR(3)
- currency_name: VARCHAR(50)

Table: exchange_rates
- exchange_rate_id: INTEGER
- rate_date: DATE
- base_currency_code: VARCHAR(3)
- target_currency_code: VARCHAR(3)
- exchange_rate: NUMERIC(20, 10)
- unit: INTEGER

[2025-01-05 22:30:08,974] INFO [Remit_agent.tools.tools.convert_to_sql:88] Generated SQL query: SELECT er.*
FROM exchange_rates er
WHERE er.base_currency_code = 'NPR'
AND er.target_currency_code = 'AED'
AND er.rate_date = (
    SELECT MAX(rate_date)
    FROM exchange_rates
    WHERE base_currency_code = 'NPR'
    AND target_currency_code = 'AED'
);
[2025-01-05 22:30:08,975] INFO [Remit_agent.core.sql_agent._convert_to_sql:52] Successfully generated SQL query: SELECT er.*
FROM exchange_rates er
WHERE er.base_currency_code = 'NPR'
AND er.target_currency_code = 'AED'
AND er.rate_date = (
    SELECT MAX(rate_date)
    FROM exchange_rates
    WHERE base_currency_code = 'NPR'
    AND target_currency_code = 'AED'
);
[2025-01-05 22:30:08,975] INFO [Remit_agent.core.sql_agent._convert_to_sql:58] State updated - SQL Query: SELECT er.*
FROM exchange_rates er
WHERE er.base_currency_code = 'NPR'
AND er.target_currency_code = 'AED'
AND er.rate_date = (
    SELECT MAX(rate_date)
    FROM exchange_rates
    WHERE base_currency_code = 'NPR'
    AND target_currency_code = 'AED'
);, Error: False
[2025-01-05 22:30:08,979] INFO [Remit_agent.tools.tools.execute_sql_query:102] Executing query: SELECT er.*
FROM exchange_rates er
WHERE er.base_currency_code = 'NPR'
AND er.target_currency_code = 'AED'
AND er.rate_date = (
    SELECT MAX(rate_date)
    FROM exchange_rates
    WHERE base_currency_code = 'NPR'
    AND target_currency_code = 'AED'
);
[2025-01-05 22:30:08,981] INFO [Remit_agent.tools.tools.execute_sql_query:108] Query executed successfully. Fetched 1 rows.
[2025-01-05 22:30:08,981] INFO [Remit_agent.core.sql_agent._execute_sql:77] Result from execute_sql_query: {'success': True, 'error': None, 'rows': [{'exchange_rate_id': 18591, 'rate_date': '2024-12-23', 'base_currency_code': 'NPR', 'target_currency_code': 'AED', 'exchange_rate': 0.0269396552, 'unit': 1}], 'columns': ['exchange_rate_id', 'rate_date', 'base_currency_code', 'target_currency_code', 'exchange_rate', 'unit']}
[2025-01-05 22:30:08,981] INFO [Remit_agent.core.sql_agent._execute_sql:90] Query executed successfully. Processed 1 rows.
[2025-01-05 22:30:08,984] ERROR [Remit_agent.core.sql_agent._generate_human_readable:113] Error generating readable response: BaseTool.invoke() missing 1 required positional argument: 'input'
[2025-01-05 22:30:08,987] INFO [Remit_agent.core.sql_agent.run:227] Workflow completed successfully
[2025-01-05 22:30:08,987] ERROR [__main__.main:270] Error processing question: `st.session_state.user_input` cannot be modified after the widget with key `user_input` is instantiated.
